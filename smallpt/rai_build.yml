rai:
  version: 0.2
  image: weiren2/ece408-sp20:topic-3-raytracing-test
resources:
  cpu:
    architecture: amd64 # use amd64 unless your project requires running on a different architecture
  gpu:
    count: 1
  limits:
    network: true
commands:
  build: # commands in the following seciton are executed sequentially
    - /bin/bash -c "cp -r /src/* ."
    - make smallpt
    - cmake /src
    - make
    #- OpenMP version ...
    - ./time -p -o result.txt --append ./smallpt 1000
    #- CUDA version ...
    - ./time -p -o result.txt --append ./cu_smallpt 1000
    #- Evaluate accelerated version ...
